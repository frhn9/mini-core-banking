server:
  servlet:
    context-path: /api

spring:
  application:
    name: mini-core-banking
  profiles:
    active: dev
  docker:
    compose:
      enabled: false
  datasource:
    url: jdbc:h2:mem:mcb
    driverClassName: org.h2.Driver
    username: sa
    password:
  h2:
    console:
      enabled: true
  jpa:
    database-platform: org.hibernate.dialect.H2Dialect
  liquibase:
    change-log: classpath:/db/changelog/db.changelog-master.yml
  flyway:
    enabled: false
  jackson:
    time-zone: Asia/Jakarta

reconciliation:
  pool:
    account-number: "RECONCILIATION-POOL"
    low-balance-threshold: 10000.00
  severity-thresholds:
    low: 10.00
    medium: 100.00
    high: 1000.00
  tier-limits:
    tier-2:
      max-withdrawal: 5000.00
      daily-limit: 10000.00
    tier-3:
      max-withdrawal: 2000.00
      max-transfer-out: 2000.00
      daily-limit: 5000.00
    tier-4:
      max-withdrawal: 500.00
      daily-limit: 1000.00
  auto-correct-enabled: true
  notifications:
    operations-email: ops@bank.com

notification:
  channels:
    log:
      enabled: true
    email:
      enabled: false
      from-email: noreply@minibank.com
      from-name: Mini Core Banking
    sms:
      enabled: false
      provider: mock
      from: "+1234567890"
      twilio:
        account-sid: ""
        auth-token: ""
    push:
      enabled: false
      provider: mock
      firebase:
        credentials-path: ""

# Spring Mail Configuration (uncomment to enable email notifications)
#spring:
#  mail:
#    host: smtp.gmail.com
#    port: 587
#    username: your-email@gmail.com
#    password: your-app-password
#    properties:
#      mail:
#        smtp:
#          auth: true
#          starttls:
#            enable: true

jwt:
  secret: ${JWT_SECRET:404E635266556A586E3272357538782F413F4428472B4B6250645367566B5970}
  access-token-expiration: 900000      # 15 minutes in milliseconds
  refresh-token-expiration: 604800000  # 7 days in milliseconds
  issuer: mini-core-banking

logbook:
  format:
    style: splunk

logging:
  level:
    #set for logbook write into log
    org.zalando.logbook: TRACE